(this["webpackJsonpreact-issue-blog"]=this["webpackJsonpreact-issue-blog"]||[]).push([[0],{227:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s(16),a=s.n(n),r=(s(23),s(9)),i=s(2);const o={githubUserName:"raevi613",githubRepo:"articles",thirdPartySite:[{href:"781824463@qq.com",title:"Email"},{href:"https://github.com/raevi613",title:"GitHub"}],porject:{vueIssueBlog:{code:"https://github.com/kelyu0/vue-issue-blog",demo:"https://kelyu0.github.io/vue-issue-blog"},reactIssueBlog:{code:"https://github.com/kelyu0/react-issue-blog",demo:"https://kelyu0.github.io/react-issue-blog"}}};s(24),s(25),s(26),s(27);var l=s(0);class h extends c.Component{render(){return Object(l.jsxs)("div",{className:"article",children:[Object(l.jsx)("h3",{children:"Contact me from "}),Object(l.jsx)("ul",{children:o.thirdPartySite.map(((e,t)=>Object(l.jsx)("li",{children:Object(l.jsx)("a",{href:e.href,children:e.title})},t)))}),Object(l.jsx)("br",{}),Object(l.jsx)("h3",{children:"Blog Theme"}),Object(l.jsx)("h4",{children:"code"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("a",{href:o.porject.vueIssueBlog.code,children:" vue-issue-blog"}),Object(l.jsx)("br",{}),Object(l.jsx)("a",{href:o.porject.reactIssueBlog.code,children:" react-issue-blog"})]}),Object(l.jsx)("h4",{children:"demo"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("a",{href:o.porject.vueIssueBlog.demo,children:" Version Vue "}),Object(l.jsx)("br",{}),Object(l.jsx)("a",{href:o.porject.reactIssueBlog.demo,children:" Version React "})]})]})}}var d=h,j=s(17),b=s.n(j),u=(s(221),s(12)),p=s.n(u),m=s(8),x=s.n(m);class O extends c.Component{render(){return Object(l.jsx)("aside",{className:"catalog-container",children:this.props.tables.map(((e,t)=>{let{level:s,title:c}=e;return Object(l.jsx)("div",{children:Object(l.jsx)("a",{className:"article-catalog-h"+s,href:"#"+c,children:c})},t)}))})}}class g extends c.Component{constructor(e){super(e),this.state={content:""}}componentDidMount(){const e=window.location.href.split("/").pop();p.a.setOptions({highlight:e=>b.a.highlightAuto(e).value}),x.a.start();const t="https://api.github.com/repos/".concat(o.githubUserName,"/").concat(o.githubRepo,"/issues/").concat(e);fetch(t).then((e=>e.json())).then((e=>{const t=this.renderContent(e);this.setState({content:t})})),x.a.done()}handleAnchor(e){let t=p()(e.body);const s=e.body.match(/#{1,6}\s(.+)/g).map((e=>({level:e.split("#").length-1,title:e.replace(/#{1,6}/,"").trim()})));return t.match(/<(h\d).*?>.*?<\/h\d>/g).forEach(((e,c)=>{let n="<div id='".concat(s[c].title,"'>").concat(e," </div>");t=t.replace(e,n)})),{htmlContent:t,tables:s}}renderContent(e){const{htmlContent:t,tables:s}=this.handleAnchor(e);return Object(l.jsxs)("div",{className:"content-layout",children:[Object(l.jsx)(O,{tables:s}),Object(l.jsxs)("div",{className:"main-container",children:[Object(l.jsx)("a",{href:"#top",id:"gotop-btn",children:"Up"}),Object(l.jsxs)("div",{className:"article",children:[Object(l.jsxs)("article",{className:"article ",children:[Object(l.jsx)("h1",{className:"article-title",children:e.title}),Object(l.jsx)("p",{className:"article-time",children:e.created_at.substr(0,10)}),Object(l.jsx)("div",{className:"article-desc article-content",dangerouslySetInnerHTML:{__html:t}})]}),Object(l.jsx)("div",{className:"article",children:Object(l.jsx)("button",{className:"article-comment",onClick:()=>window.location.href=e.html_url,children:"Comment"})})]})]})]})}render(){return Object(l.jsx)("div",{children:this.state.content})}}var v=g;class f extends c.Component{render(){const e=this.props.post;let t=e.labels.map((e=>Object(l.jsx)("span",{className:"list-label",children:e},e))),s="/post/"+e.id;return Object(l.jsxs)("li",{className:"list-post",children:[Object(l.jsx)("div",{children:Object(l.jsx)(r.b,{to:{pathname:s},children:e.title})}),Object(l.jsx)("span",{className:"date-long",children:e.date}),t]})}}var N=f;class C extends c.Component{constructor(e){super(e),this.state={posts:[]}}resolveId(e){return parseInt(e.pathname.split("/").pop())}fetchData(){const e="https://api.github.com/repos/".concat(o.githubUserName,"/").concat(o.githubRepo,"/issues");fetch(e).then((e=>e.json())).then((e=>{const t=e.filter((e=>"open"===e.state)).map((e=>({id:e.number,title:e.title,labels:e.labels.map((e=>e.name)),url:e.html_url,date:e.created_at.substring(0,10)})));this.setState({posts:t})}))}componentDidMount(){this.id=this.resolveId(this.props.location),x.a.start(),this.fetchData(),x.a.done()}render(){const e=this.state.posts.map((e=>Object(l.jsx)(N,{post:e},e.id)));return Object(l.jsx)("div",{className:"list",children:Object(l.jsx)("ul",{children:e})})}}var I=C;class y extends c.Component{render(){return Object(l.jsx)(r.a,{basename:"/react-issue-blog",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"navbar",children:[Object(l.jsx)(r.b,{to:"/",children:"Posts"}),Object(l.jsx)("span",{children:" | "}),Object(l.jsx)(r.b,{to:"/about",children:"About"}),Object(l.jsx)("span",{children:" | "}),Object(l.jsx)("a",{href:o.porject.vueIssueBlog.demo,children:"Version Vue"})]}),Object(l.jsx)(i.a,{path:"/post/:id",component:v}),Object(l.jsx)(i.a,{exact:!0,path:"/",component:I}),Object(l.jsx)(i.a,{path:"/about",component:d})]})})}}a.a.render(Object(l.jsx)(y,{}),document.getElementById("root"))},24:function(e,t,s){},25:function(e,t,s){},26:function(e,t,s){},27:function(e,t,s){}},[[227,1,2]]]);
//# sourceMappingURL=main.f620aa12.chunk.js.map