{"version":3,"sources":["config.js","js/About.js","js/Catalog.js","js/PostContent.js","js/Post.js","js/Posts.js","App.js","index.js"],"names":["config","githubUserName","githubRepo","thirdPartySite","href","title","porject","vueIssueBlog","code","demo","reactIssueBlog","About","Component","render","_jsxs","className","children","_jsx","map","site","index","Catalog","this","props","tables","_ref","level","PostContent","constructor","super","state","content","componentDidMount","id","window","location","split","pop","marked","setOptions","highlight","hljs","highlightAuto","value","NProgress","start","url","concat","fetch","then","resp","json","issue","renderContent","setState","done","handleAnchor","htmlContent","body","match","item","length","replace","trim","forEach","_toc","created_at","substr","dangerouslySetInnerHTML","__html","onClick","html_url","Post","post","labels","label","path","Link","to","pathname","date","Posts","posts","resolveId","parseInt","fetchData","data","filter","number","tag","name","substring","postItem","App","Router","basename","Route","component","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f620aa12.chunk.js","sourcesContent":["export const config = {\n  // Your Github UserName\n  githubUserName: \"raevi613\",\n  // Your Github Repo Name Where You Have your issues as Blog\n  githubRepo: \"articles\",\n  // About Page links\n  thirdPartySite: [\n    {\n      href: \"781824463@qq.com\", // third Party Site url\n      title: \"Email\", //\n    },\n    {\n      href: \"https://github.com/raevi613\",\n      title: \"GitHub\",\n    },\n    //Other sites ...\n  ],\n  porject: {\n    vueIssueBlog: {\n      code: \"https://github.com/kelyu0/vue-issue-blog\",\n      demo: \"https://kelyu0.github.io/vue-issue-blog\",\n    },\n    reactIssueBlog: {\n      code: \"https://github.com/kelyu0/react-issue-blog\",\n      demo: \"https://kelyu0.github.io/react-issue-blog\",\n    },\n  },\n};\n","import React, { Component } from \"react\";\nimport { config } from \"../config\";\nclass About extends Component {\n  render() {\n    return (\n      <div className=\"article\">\n        <h3>Contact me from </h3>\n        <ul>\n          {config.thirdPartySite.map((site, index) => (\n            <li key={index}>\n              <a href={site.href}>{site.title}</a>\n            </li>\n          ))}\n        </ul>\n        <br />\n\n        <h3>Blog Theme</h3>\n        {/* <br /> */}\n\n        <h4>code</h4>\n        <div>\n          <a href={config.porject.vueIssueBlog.code}> vue-issue-blog</a>\n          <br />\n          <a href={config.porject.reactIssueBlog.code}> react-issue-blog</a>\n        </div>\n        {/* <br /> */}\n        <h4>demo</h4>\n        <div>\n          <a href={config.porject.vueIssueBlog.demo}> Version Vue </a>\n          <br />\n          <a href={config.porject.reactIssueBlog.demo}> Version React </a>\n        </div>\n      </div>\n    );\n  }\n}\nexport default About;\n","import React, { Component } from \"react\";\n\nexport default class Catalog extends Component {\n  render() {\n    return (\n      <aside className=\"catalog-container\">\n        {this.props.tables.map(({ level, title }, index) => (\n          <div key={index}>\n            <a className={\"article-catalog-h\" + level} href={\"#\" + title}>\n              {title}\n            </a>\n          </div>\n        ))}\n      </aside>\n    );\n  }\n}\n","import hljs from \"highlight.js\";\nimport \"highlight.js/styles/zenburn.css\";\nimport marked from \"marked\";\nimport NProgress from \"nprogress\";\nimport React, { Component } from \"react\";\nimport { config } from \"../config\";\nimport Catalog from \"./Catalog\";\n\nclass PostContent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      content: \"\",\n    };\n  }\n\n  componentDidMount() {\n    const path = window.location.href;\n    const id = path.split(\"/\").pop();\n\n    marked.setOptions({\n      highlight: (code) => hljs.highlightAuto(code).value,\n    });\n\n    NProgress.start();\n    const url = `https://api.github.com/repos/${config.githubUserName}/${config.githubRepo}/issues/${id}`;\n    fetch(url)\n      .then((resp) => resp.json())\n      .then((issue) => {\n        const content = this.renderContent(issue);\n        this.setState({ content: content });\n      });\n    NProgress.done();\n  }\n\n  handleAnchor(issue) {\n    let htmlContent = marked(issue.body);\n\n    //匹配目录\n    const toc = issue.body.match(/#{1,6}\\s(.+)/g);\n    const tables = toc.map((item) => ({\n      level: item.split(\"#\").length - 1,\n      title: item.replace(/#{1,6}/, \"\").trim(),\n    }));\n\n    //给html中的h加id\n    let tocHtml = htmlContent.match(/<(h\\d).*?>.*?<\\/h\\d>/g);\n    tocHtml.forEach((item, index) => {\n      let _toc = `<div id='${tables[index].title}'>${item} </div>`;\n      // let _toc = item.replace(/\".*\"/g, `\"${tables[index].title}\"`);\n      // _toc = _toc.replace(/>.*</g, `><a herf='#${tables[index].title}'> ${tables[index].title} </a><`);\n      htmlContent = htmlContent.replace(item, _toc);\n    });\n    return { htmlContent, tables };\n  }\n\n  renderContent(issue) {\n    const { htmlContent, tables } = this.handleAnchor(issue);\n    return (\n      <div className=\"content-layout\">\n        <Catalog tables={tables}></Catalog>\n        <div className=\"main-container\">\n          <a href=\"#top\" id=\"gotop-btn\">\n            Up\n          </a>\n          <div className=\"article\">\n            <article className=\"article \">\n              <h1 className=\"article-title\">{issue.title}</h1>\n              <p className=\"article-time\">{issue.created_at.substr(0, 10)}</p>\n              <div className=\"article-desc article-content\" dangerouslySetInnerHTML={{ __html: htmlContent }} />\n            </article>\n            <div className=\"article\">\n              <button className=\"article-comment\" onClick={() => (window.location.href = issue.html_url)}>\n                Comment\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  render() {\n    return <div>{this.state.content}</div>;\n  }\n}\n\nexport default PostContent;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass Post extends Component {\n  render() {\n    const post = this.props.post;\n    let labels = post.labels.map((label) => (\n      <span key={label} className=\"list-label\">\n        {label}\n      </span>\n    ));\n    let path = \"/post/\" + post.id;\n    return (\n      <li className=\"list-post\">\n        <div>\n          <Link to={{ pathname: path }}>{post.title}</Link>\n        </div>\n        <span className=\"date-long\">{post.date}</span>\n        {labels}\n      </li>\n    );\n  }\n}\n\nexport default Post;\n","import NProgress from \"nprogress\";\nimport React, { Component } from \"react\";\nimport { config } from \"../config\";\nimport Post from \"./Post.js\";\nclass Posts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { posts: [] };\n  }\n\n  resolveId(location) {\n    return parseInt(location.pathname.split(\"/\").pop());\n  }\n\n  fetchData() {\n    const url = `https://api.github.com/repos/${config.githubUserName}/${config.githubRepo}/issues`;\n    fetch(url)\n      .then((resp) => {\n        return resp.json();\n      })\n      .then((data) => {\n        const posts = data\n          .filter((item) => item.state === \"open\")\n          .map((item) => {\n            return {\n              id: item.number,\n              title: item.title,\n              labels: item.labels.map((tag) => tag.name),\n              url: item.html_url,\n              date: item.created_at.substring(0, 10),\n            };\n          });\n        this.setState({ posts: posts });\n      });\n  }\n\n  componentDidMount() {\n    this.id = this.resolveId(this.props.location);\n    NProgress.start();\n    this.fetchData();\n    NProgress.done();\n  }\n\n  render() {\n    const postItem = this.state.posts.map((post) => <Post key={post.id} post={post} />);\n    return (\n      <div className=\"list\">\n        <ul>{postItem}</ul>\n      </div>\n    );\n  }\n}\n\nexport default Posts;\n","import \"nprogress/nprogress.css\";\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Router, Link, Route } from \"react-router-dom\";\nimport { config } from \"./config\";\nimport \"./css/index.css\";\nimport \"./css/list.css\";\nimport \"./css/post.css\";\nimport \"./css/reset.css\";\nimport About from \"./js/About.js\";\nimport PostContent from \"./js/PostContent.js\";\nimport Posts from \"./js/Posts.js\";\n\nexport default class App extends Component {\n  render() {\n    return (\n      <Router basename=\"/react-issue-blog\">\n        <div>\n          <div className=\"navbar\">\n            <Link to=\"/\">Posts</Link>\n            <span> | </span>\n            <Link to=\"/about\">About</Link>\n            <span> | </span>\n            <a href={config.porject.vueIssueBlog.demo}>Version Vue</a>\n          </div>\n          <Route path=\"/post/:id\" component={PostContent} />\n          {/* <Redirect from=\"posts/:id\" to=\"/posts/:id\" /> */}\n          <Route exact path=\"/\" component={Posts} />\n          <Route path=\"/about\" component={About} />\n        </div>\n      </Router>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}